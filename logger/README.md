# Runtime Logger

The Runtime Logger is a simple, robust, lightweight interface for the various processes in Runtime to report problems or status updates and collect them in one location. The output can be routed to standard output, to a file, sent on the network to Dawn/Shepherd, or some combination of the three. The logger can be configured through the logger configuration file, so that the user does not need to recompile the entire system to change the logger output locations and levels.

## Description

`logger.h` contains the header file detailing the available functions for the logger. Please read the comments written here and consult the test files for an overview of the wrapper's usage. Source code for the logger is found in `logger.c`. 

The list of log levels are enumerated in `logger.h`, and are, in order from lowest to highest priority: `DEBUG`, `INFO`, `WARN`, `ERROR`, `FATAL`. There is also a sixth level, PYTHON, which is used by `executor` to output stack traces generated by errors in student code. Internally, it has a level that is in between `WARN` and `ERROR`.

`logger.config` is where the user configures where the outputs of the logs will appear, the minimum log level that will be output at each location, and the location of the log file. This file is read during the logger initialization by the calling process in order to set the logger configurations for the duration of that process. Therefore, to change the log settings for a given process, a user can simply exit the process, change the `logger.config` file, and then restart the process, without needing to recompile the process from source. See the comments in `logger.config` for more information about the specific values given in the configuration.

`logger_test1.c` and `logger_test2.c` contain simple sanity checks to demonstrate that the logger is functioning. Compile with

```
make test1
make test2
```
Then configure the logger by editing `logger.config`. Finally, run by opening two separate terminal windows and running `./test1` in one window and `./test2` in the other.

## Todos

1) Potentially add custom filters for logs (printing between certain times, printing only from one process, printing at different log levels for different processes, etc.).

2) Deprecate `log_runtime` and add support for using `strerror` to more easily print error messages. (issue #21 on Github)
